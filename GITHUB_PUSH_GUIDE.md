# 📦 What to Push to GitHub - Complete Guide

## ✅ Files to PUSH (Safe & Required)

### Source Code (MUST push)
- ✅ All `.py` files (Python source code)
- ✅ All `.html` files (templates)
- ✅ All `.css` files (styles)
- ✅ All `.js` files (JavaScript, if any)
- ✅ `requirements.txt` - Dependencies list
- ✅ `manage.py` - Django management script

### Configuration Files (MUST push)
- ✅ `visitor_portal/visitor_portal/settings.py` - Django settings
- ✅ `visitor_portal/visitor_portal/urls.py` - URL routing
- ✅ `visitor_portal/visitor_portal/wsgi.py` - WSGI config
- ✅ `visitor_portal/visitors/urls.py` - App URLs
- ✅ All other `.py` config files

### Database Migrations (MUST push)
- ✅ `visitor_portal/visitors/migrations/*.py` - Database migrations
- ✅ `visitor_portal/visitor_portal/__init__.py`

### Deployment Files (MUST push)
- ✅ `Procfile` - For Render/Railway
- ✅ `Dockerfile` - For Docker deployment
- ✅ `.dockerignore` - Docker ignore rules
- ✅ `render.yaml` - Render config
- ✅ `railway.json` - Railway config
- ✅ `runtime.txt` - Python version
- ✅ `.gitignore` - Git ignore rules

### Documentation (Should push)
- ✅ `README.md` - Project documentation
- ✅ `DEPLOYMENT.md` - Deployment guide
- ✅ `QUICK_START_DEPLOY.md` - Quick start
- ✅ `EMAIL_SETUP.md` - Email setup guide
- ✅ `GITHUB_PUSH_GUIDE.md` - This file

### Static Assets (Safe to push)
- ✅ `static/img/logo.png` - Logo files (if no sensitive data)
- ✅ `static/css/app.css` - Stylesheets
- ✅ `visitor_portal/static/css/` - App static files
- ✅ `visitor_portal/static/img/` - App images (if safe)

### Data Files (Usually safe to push)
- ✅ `visitor_portal/visitors/data/employees.csv` - Employee CSV (if no sensitive data)
  - ⚠️ Remove real phone numbers/emails if sensitive
  - Or use sample data only

### Templates (MUST push)
- ✅ `templates/` - Template files
- ✅ `visitor_portal/visitors/templates/` - App templates

---

## ❌ Files to NEVER Push (Security & Privacy)

### Database Files (NEVER push - Contains real data!)
- ❌ `visitor_portal/db.sqlite3` - **YOUR REAL DATABASE!**
- ❌ Any `*.sqlite3` files
- ❌ Any `*.db` files
- ❌ Database backups

### Media Files (NEVER push - Contains visitor photos/IDs!)
- ❌ `media/` folder
- ❌ `visitor_portal/media/` folder
  - ❌ `visitor_photos/` - Visitor photos
  - ❌ `visitor_ids/` - ID documents
- ❌ Any uploaded images/photos

### Environment & Secrets (NEVER push!)
- ❌ `.env` file - Contains passwords!
- ❌ Any file with passwords/API keys
- ❌ `local_settings.py` (if you create one)

### Python Cache (Auto-excluded by .gitignore)
- ❌ `__pycache__/` folders
- ❌ `*.pyc` files
- ❌ `*.pyo` files
- ❌ `.Python` file

### Virtual Environment (NEVER push)
- ❌ `venv/` folder
- ❌ `env/` folder
- ❌ `.venv/` folder
- ❌ `ENV/` folder

### Static Files (Generated, don't push)
- ❌ `staticfiles/` - Auto-generated by Django
- ❌ `visitor_portal/staticfiles/` - Generated files

### IDE & OS Files (Auto-excluded)
- ❌ `.vscode/` - VS Code settings
- ❌ `.idea/` - PyCharm settings
- ❌ `.DS_Store` - Mac files
- ❌ `Thumbs.db` - Windows files

---

## 🔒 Security Check Before Pushing

### 1. Check for Hardcoded Credentials
**NEVER commit these in code:**
- Email passwords
- API keys
- Database passwords
- Secret keys

**In `settings.py`, ensure:**
```python
# ✅ GOOD - Uses environment variables
EMAIL_HOST_PASSWORD = os.getenv('EMAIL_HOST_PASSWORD', '')

# ❌ BAD - Hardcoded password
EMAIL_HOST_PASSWORD = 'qmzs ryop pbqk bwgg'
```

### 2. Verify .gitignore is Working
Run this command to see what WILL be pushed:
```bash
git status
```

**If you see these in the list, DON'T PUSH yet:**
- `db.sqlite3` ❌
- `.env` ❌
- `media/` folders ❌
- `visitor_portal/media/` ❌

### 3. Remove Already-Tracked Sensitive Files
If you already committed sensitive files (like `db.sqlite3`), remove them:

```bash
# Remove from git but keep local file
git rm --cached visitor_portal/db.sqlite3
git rm --cached -r visitor_portal/media/
git rm --cached -r media/

# Commit the removal
git commit -m "Remove sensitive files from git"

# Now push
git push
```

---

## 📋 Safe Push Checklist

Before running `git push`, verify:

- [ ] `.env` file is NOT in the repository
- [ ] `db.sqlite3` is NOT being pushed (check `git status`)
- [ ] `visitor_portal/media/` folder is NOT being pushed
- [ ] No hardcoded passwords in `settings.py`
- [ ] `SECRET_KEY` uses `os.getenv()` in settings.py
- [ ] Email credentials use `os.getenv()` in settings.py
- [ ] All sensitive data removed from code

---

## 🚀 Step-by-Step: First Push

### Step 1: Initialize Git (if not done)
```bash
cd visitor_management
git init
```

### Step 2: Check What Will Be Committed
```bash
git status
```

**Review the list carefully!** Ensure no sensitive files appear.

### Step 3: Add Safe Files
```bash
# Add all files (respects .gitignore)
git add .

# Or add specific files manually:
git add requirements.txt
git add Procfile
git add Dockerfile
git add visitor_portal/
git add static/
git add templates/
# ... etc
```

### Step 4: Verify Before Committing
```bash
# See what will be committed
git status

# Check if any sensitive files slipped through
git diff --cached | grep -i "password\|secret\|key\|email"
```

### Step 5: Commit
```bash
git commit -m "Initial commit: Visitor Management System"
```

### Step 6: Connect to GitHub
```bash
# Create repo on GitHub first, then:
git remote add origin https://github.com/YOUR_USERNAME/visitor-management.git
git branch -M main
```

### Step 7: Push
```bash
git push -u origin main
```

---

## 🔄 What Happens After Push

1. **Render/Railway connects to your GitHub repo**
2. **Platform reads your code** (safe files only)
3. **Environment variables are set in platform** (not in code)
4. **Database is created fresh** on the platform
5. **Migrations run** automatically
6. **Your app deploys** ✅

---

## 📊 Summary: Quick Reference

| Category | Push? | Why |
|----------|-------|-----|
| `.py` source files | ✅ Yes | Required for app to run |
| Templates (`.html`) | ✅ Yes | Required for UI |
| Static CSS/JS | ✅ Yes | Required for styling |
| `requirements.txt` | ✅ Yes | Required for dependencies |
| Deployment configs | ✅ Yes | Required for hosting |
| `db.sqlite3` | ❌ **NO** | Contains real visitor data! |
| `media/` folders | ❌ **NO** | Contains visitor photos/IDs! |
| `.env` file | ❌ **NO** | Contains passwords! |
| `__pycache__/` | ❌ No | Auto-generated |
| `venv/` | ❌ No | Dependencies, not needed |

---

## 🆘 Troubleshooting

### "I accidentally pushed sensitive data!"

**Fix immediately:**
```bash
# Remove from git history (if recent)
git rm --cached visitor_portal/db.sqlite3
git commit -m "Remove sensitive file"
git push

# If already pushed, regenerate secrets:
# 1. Change all passwords
# 2. Generate new SECRET_KEY
# 3. Update environment variables on platform
```

### "Git is tracking files I don't want"

**Remove them:**
```bash
# See what's tracked
git ls-files

# Remove from tracking (keeps local file)
git rm --cached filename
git commit -m "Remove file from tracking"
```

---

## ✅ Final Reminder

**Before every push:**
1. Run `git status` - Review the list
2. Verify no `.env`, `db.sqlite3`, or `media/` folders
3. Check `settings.py` has no hardcoded passwords
4. Then push with confidence! 🚀

---

**Your `.gitignore` file already protects you, but always double-check!**

