# ğŸ“¦ What to Push to GitHub - Complete Guide

## âœ… Files to PUSH (Safe & Required)

### Source Code (MUST push)
- âœ… All `.py` files (Python source code)
- âœ… All `.html` files (templates)
- âœ… All `.css` files (styles)
- âœ… All `.js` files (JavaScript, if any)
- âœ… `requirements.txt` - Dependencies list
- âœ… `manage.py` - Django management script

### Configuration Files (MUST push)
- âœ… `visitor_portal/visitor_portal/settings.py` - Django settings
- âœ… `visitor_portal/visitor_portal/urls.py` - URL routing
- âœ… `visitor_portal/visitor_portal/wsgi.py` - WSGI config
- âœ… `visitor_portal/visitors/urls.py` - App URLs
- âœ… All other `.py` config files

### Database Migrations (MUST push)
- âœ… `visitor_portal/visitors/migrations/*.py` - Database migrations
- âœ… `visitor_portal/visitor_portal/__init__.py`

### Deployment Files (MUST push)
- âœ… `Procfile` - For Render/Railway
- âœ… `Dockerfile` - For Docker deployment
- âœ… `.dockerignore` - Docker ignore rules
- âœ… `render.yaml` - Render config
- âœ… `railway.json` - Railway config
- âœ… `runtime.txt` - Python version
- âœ… `.gitignore` - Git ignore rules

### Documentation (Should push)
- âœ… `README.md` - Project documentation
- âœ… `DEPLOYMENT.md` - Deployment guide
- âœ… `QUICK_START_DEPLOY.md` - Quick start
- âœ… `EMAIL_SETUP.md` - Email setup guide
- âœ… `GITHUB_PUSH_GUIDE.md` - This file

### Static Assets (Safe to push)
- âœ… `static/img/logo.png` - Logo files (if no sensitive data)
- âœ… `static/css/app.css` - Stylesheets
- âœ… `visitor_portal/static/css/` - App static files
- âœ… `visitor_portal/static/img/` - App images (if safe)

### Data Files (Usually safe to push)
- âœ… `visitor_portal/visitors/data/employees.csv` - Employee CSV (if no sensitive data)
  - âš ï¸ Remove real phone numbers/emails if sensitive
  - Or use sample data only

### Templates (MUST push)
- âœ… `templates/` - Template files
- âœ… `visitor_portal/visitors/templates/` - App templates

---

## âŒ Files to NEVER Push (Security & Privacy)

### Database Files (NEVER push - Contains real data!)
- âŒ `visitor_portal/db.sqlite3` - **YOUR REAL DATABASE!**
- âŒ Any `*.sqlite3` files
- âŒ Any `*.db` files
- âŒ Database backups

### Media Files (NEVER push - Contains visitor photos/IDs!)
- âŒ `media/` folder
- âŒ `visitor_portal/media/` folder
  - âŒ `visitor_photos/` - Visitor photos
  - âŒ `visitor_ids/` - ID documents
- âŒ Any uploaded images/photos

### Environment & Secrets (NEVER push!)
- âŒ `.env` file - Contains passwords!
- âŒ Any file with passwords/API keys
- âŒ `local_settings.py` (if you create one)

### Python Cache (Auto-excluded by .gitignore)
- âŒ `__pycache__/` folders
- âŒ `*.pyc` files
- âŒ `*.pyo` files
- âŒ `.Python` file

### Virtual Environment (NEVER push)
- âŒ `venv/` folder
- âŒ `env/` folder
- âŒ `.venv/` folder
- âŒ `ENV/` folder

### Static Files (Generated, don't push)
- âŒ `staticfiles/` - Auto-generated by Django
- âŒ `visitor_portal/staticfiles/` - Generated files

### IDE & OS Files (Auto-excluded)
- âŒ `.vscode/` - VS Code settings
- âŒ `.idea/` - PyCharm settings
- âŒ `.DS_Store` - Mac files
- âŒ `Thumbs.db` - Windows files

---

## ğŸ”’ Security Check Before Pushing

### 1. Check for Hardcoded Credentials
**NEVER commit these in code:**
- Email passwords
- API keys
- Database passwords
- Secret keys

**In `settings.py`, ensure:**
```python
# âœ… GOOD - Uses environment variables
EMAIL_HOST_PASSWORD = os.getenv('EMAIL_HOST_PASSWORD', '')

# âŒ BAD - Hardcoded password
EMAIL_HOST_PASSWORD = 'qmzs ryop pbqk bwgg'
```

### 2. Verify .gitignore is Working
Run this command to see what WILL be pushed:
```bash
git status
```

**If you see these in the list, DON'T PUSH yet:**
- `db.sqlite3` âŒ
- `.env` âŒ
- `media/` folders âŒ
- `visitor_portal/media/` âŒ

### 3. Remove Already-Tracked Sensitive Files
If you already committed sensitive files (like `db.sqlite3`), remove them:

```bash
# Remove from git but keep local file
git rm --cached visitor_portal/db.sqlite3
git rm --cached -r visitor_portal/media/
git rm --cached -r media/

# Commit the removal
git commit -m "Remove sensitive files from git"

# Now push
git push
```

---

## ğŸ“‹ Safe Push Checklist

Before running `git push`, verify:

- [ ] `.env` file is NOT in the repository
- [ ] `db.sqlite3` is NOT being pushed (check `git status`)
- [ ] `visitor_portal/media/` folder is NOT being pushed
- [ ] No hardcoded passwords in `settings.py`
- [ ] `SECRET_KEY` uses `os.getenv()` in settings.py
- [ ] Email credentials use `os.getenv()` in settings.py
- [ ] All sensitive data removed from code

---

## ğŸš€ Step-by-Step: First Push

### Step 1: Initialize Git (if not done)
```bash
cd visitor_management
git init
```

### Step 2: Check What Will Be Committed
```bash
git status
```

**Review the list carefully!** Ensure no sensitive files appear.

### Step 3: Add Safe Files
```bash
# Add all files (respects .gitignore)
git add .

# Or add specific files manually:
git add requirements.txt
git add Procfile
git add Dockerfile
git add visitor_portal/
git add static/
git add templates/
# ... etc
```

### Step 4: Verify Before Committing
```bash
# See what will be committed
git status

# Check if any sensitive files slipped through
git diff --cached | grep -i "password\|secret\|key\|email"
```

### Step 5: Commit
```bash
git commit -m "Initial commit: Visitor Management System"
```

### Step 6: Connect to GitHub
```bash
# Create repo on GitHub first, then:
git remote add origin https://github.com/YOUR_USERNAME/visitor-management.git
git branch -M main
```

### Step 7: Push
```bash
git push -u origin main
```

---

## ğŸ”„ What Happens After Push

1. **Render/Railway connects to your GitHub repo**
2. **Platform reads your code** (safe files only)
3. **Environment variables are set in platform** (not in code)
4. **Database is created fresh** on the platform
5. **Migrations run** automatically
6. **Your app deploys** âœ…

---

## ğŸ“Š Summary: Quick Reference

| Category | Push? | Why |
|----------|-------|-----|
| `.py` source files | âœ… Yes | Required for app to run |
| Templates (`.html`) | âœ… Yes | Required for UI |
| Static CSS/JS | âœ… Yes | Required for styling |
| `requirements.txt` | âœ… Yes | Required for dependencies |
| Deployment configs | âœ… Yes | Required for hosting |
| `db.sqlite3` | âŒ **NO** | Contains real visitor data! |
| `media/` folders | âŒ **NO** | Contains visitor photos/IDs! |
| `.env` file | âŒ **NO** | Contains passwords! |
| `__pycache__/` | âŒ No | Auto-generated |
| `venv/` | âŒ No | Dependencies, not needed |

---

## ğŸ†˜ Troubleshooting

### "I accidentally pushed sensitive data!"

**Fix immediately:**
```bash
# Remove from git history (if recent)
git rm --cached visitor_portal/db.sqlite3
git commit -m "Remove sensitive file"
git push

# If already pushed, regenerate secrets:
# 1. Change all passwords
# 2. Generate new SECRET_KEY
# 3. Update environment variables on platform
```

### "Git is tracking files I don't want"

**Remove them:**
```bash
# See what's tracked
git ls-files

# Remove from tracking (keeps local file)
git rm --cached filename
git commit -m "Remove file from tracking"
```

---

## âœ… Final Reminder

**Before every push:**
1. Run `git status` - Review the list
2. Verify no `.env`, `db.sqlite3`, or `media/` folders
3. Check `settings.py` has no hardcoded passwords
4. Then push with confidence! ğŸš€

---

**Your `.gitignore` file already protects you, but always double-check!**

